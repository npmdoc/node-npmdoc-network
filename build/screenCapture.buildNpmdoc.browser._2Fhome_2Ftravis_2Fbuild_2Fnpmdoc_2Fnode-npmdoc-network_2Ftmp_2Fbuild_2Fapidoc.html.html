<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/tomas/network#readme">network (v0.3.2)</a>
</h1>
<h4>Cross platform network utilities for Node.js (gateway_ip, MAC address, etc)</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.network">module network</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.get_active_interface">
            function <span class="apidocSignatureSpan">network.</span>get_active_interface
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.get_gateway_ip">
            function <span class="apidocSignatureSpan">network.</span>get_gateway_ip
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.get_interfaces_list">
            function <span class="apidocSignatureSpan">network.</span>get_interfaces_list
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.get_private_ip">
            function <span class="apidocSignatureSpan">network.</span>get_private_ip
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.get_public_ip">
            function <span class="apidocSignatureSpan">network.</span>get_public_ip
            <span class="apidocSignatureSpan">(options, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.mac_address_for">
            function <span class="apidocSignatureSpan">network.</span>mac_address_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">network.</span>darwin</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">network.</span>linux</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">network.</span>win32</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.network.darwin">module network.darwin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.darwin.gateway_ip_for">
            function <span class="apidocSignatureSpan">network.darwin.</span>gateway_ip_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.darwin.get_active_network_interface_name">
            function <span class="apidocSignatureSpan">network.darwin.</span>get_active_network_interface_name
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.darwin.get_network_interfaces_list">
            function <span class="apidocSignatureSpan">network.darwin.</span>get_network_interfaces_list
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.darwin.mac_address_for">
            function <span class="apidocSignatureSpan">network.darwin.</span>mac_address_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.darwin.netmask_for">
            function <span class="apidocSignatureSpan">network.darwin.</span>netmask_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.network.linux">module network.linux</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.gateway_ip_for">
            function <span class="apidocSignatureSpan">network.linux.</span>gateway_ip_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.get_active_network_interface_name">
            function <span class="apidocSignatureSpan">network.linux.</span>get_active_network_interface_name
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.get_network_interfaces_list">
            function <span class="apidocSignatureSpan">network.linux.</span>get_network_interfaces_list
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.interface_type_for">
            function <span class="apidocSignatureSpan">network.linux.</span>interface_type_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.mac_address_for">
            function <span class="apidocSignatureSpan">network.linux.</span>mac_address_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.linux.netmask_for">
            function <span class="apidocSignatureSpan">network.linux.</span>netmask_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.network.win32">module network.win32</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.win32.gateway_ip_for">
            function <span class="apidocSignatureSpan">network.win32.</span>gateway_ip_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.win32.get_active_network_interface_name">
            function <span class="apidocSignatureSpan">network.win32.</span>get_active_network_interface_name
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.win32.get_network_interfaces_list">
            function <span class="apidocSignatureSpan">network.win32.</span>get_network_interfaces_list
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.win32.mac_address_for">
            function <span class="apidocSignatureSpan">network.win32.</span>mac_address_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.network.win32.netmask_for">
            function <span class="apidocSignatureSpan">network.win32.</span>netmask_for
            <span class="apidocSignatureSpan">(nic_name, cb)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.network" id="apidoc.module.network">module network</a></h1>


    <h2>
        <a href="#apidoc.element.network.get_active_interface" id="apidoc.element.network.get_active_interface">
        function <span class="apidocSignatureSpan">network.</span>get_active_interface
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_active_interface = function (cb) {

  os_functions.get_active_network_interface_name(function(err, nic_name) {
    if (err || !nic_name) return cb(err || new Error("No active interfaces detected."));

    nic_by_name(nic_name, function(err, nic) {
      if (err) return cb(err);

      os_functions.netmask_for(nic_name, function(err, netmask) {
        if (!err &amp;&amp; netmask)
          nic.netmask = netmask.trim();

        os_functions.gateway_ip_for(nic_name, function(err, ip) {
          if (!err &amp;&amp; ip)
            nic.gateway_ip = ip.toString().trim();

          cb(null, nic);
        })
      });
    });
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Get active interface

Returns the IP, MAC address and interface type for the active network
interface. On OS X and Linux you also get the IP of its assigned gateway.

``` js
network.<span class="apidocCodeKeywordSpan">get_active_interface</span>(function(err, obj) {

/* obj should be:

{ name: 'eth0',
  ip_address: '10.0.1.3',
  mac_address: '56:e5:f9:e4:38:1d',
  type: 'Wired',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.get_gateway_ip" id="apidoc.element.network.get_gateway_ip">
        function <span class="apidocSignatureSpan">network.</span>get_gateway_ip
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_gateway_ip = function (cb) {

  os_functions.get_active_network_interface_name(function(err, nic_name) {
    if (err || nic_name.trim() == '')
      return cb(err || new Error('No active network interface found.'));

    os_functions.gateway_ip_for(nic_name, function(err, out) {
      if (err || !out || out.toString() == '')
        return cb(err || new Error('No gateway IP assigned to ' + nic_name));

      cb(null, out.toString().trim())
    })
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
$ network private_ip

## Get gateway IP

Returns the IP of the gateway that your active network interface is linked to.

``` js
network.<span class="apidocCodeKeywordSpan">get_gateway_ip</span>(function(err, ip) {
  console.log(err || ip); // err may be 'No active network interface found.'
})
```

##### CLI

$ network gateway_ip
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.get_interfaces_list" id="apidoc.element.network.get_interfaces_list">
        function <span class="apidocSignatureSpan">network.</span>get_interfaces_list
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_interfaces_list = function (cb) {

  var count = 0,
      list = [],
      nics = os.networkInterfaces();

  function append_data(obj) {
    async.parallel([
      function(cb) {
        exports.mac_address_for(obj.name, cb)
      },
      function(cb) {
        exports.gateway_ip_for(obj.name, cb)
      },
      function(cb) {
        exports.netmask_for(obj.name, cb)
      },
      function(cb) {
        exports.interface_type_for(obj.name, cb)
      }
    ], function(err, results) {
      if (results[0]) obj.mac_address = results[0];
      if (results[1]) obj.gateway_ip  = results[1];
      if (results[2]) obj.netmask     = results[2];
      if (results[3]) obj.type        = results[3];

      list.push(obj);
      --count || cb(null, list);
    })
  }

  for (var key in nics) {
    if (key != 'lo0' &amp;&amp; key != 'lo' &amp;&amp; !key.match(/^tun/)) {

      count++;
      var obj = { name: key };

      nics[key].forEach(function(type) {
        if (type.family == 'IPv4') {
          obj.ip_address = type.address;
        }
      });

      append_data(obj);
    }
  }

  if (count == 0)
    cb(new Error('No interfaces found.'))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Get interfaces list

Returns list of network interfaces, including MAC addresses and the such, just
as in the example above.

``` js
network.<span class="apidocCodeKeywordSpan">get_interfaces_list</span>(function(err, list) {

/* list should be:

[{
  name: 'eth0',
  ip_address: '10.0.1.3',
  mac_address: '56:e5:f9:e4:38:1d',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.get_private_ip" id="apidoc.element.network.get_private_ip">
        function <span class="apidocSignatureSpan">network.</span>get_private_ip
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_private_ip = function (cb) {

  os_functions.get_network_interfaces_list(function(err, list) {
    if (err || !list)
      return cb(err || new Error('No network interfaces found.'));

    os_functions.get_active_network_interface_name(function(err, active_nic) {
      if (err) return cb(err);

      var ips = list.filter(function(nic) {
        if (is_ip_address(nic.ip_address))
          return active_nic ? active_nic == nic.name : true;
      });

      if (ips.length &gt; 0)
        cb(null, ips[0].ip_address);
      else
        cb(new Error('No private IPs found (' + list.length + ' interfaces)'));
    });
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
$ network public_ip

## Get private IP

Returns the IP address assigned to your first active network inteface.

``` js
network.<span class="apidocCodeKeywordSpan">get_private_ip</span>(function(err, ip) {
  console.log(err || ip); // err may be 'No active network interface found'.
})
```

##### CLI

$ network private_ip
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.get_public_ip" id="apidoc.element.network.get_public_ip">
        function <span class="apidocSignatureSpan">network.</span>get_public_ip
        <span class="apidocSignatureSpan">(options, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_public_ip = function (options, cb) {

  var default_urls = [
    'checkip.dyndns.org',
    'http://wtfismyip.com/text',
    'http://ipecho.net/plain',
    'http://ifconfig.me/ip'
  ];

  if (typeof options == 'function') { // no options passed
    cb = options;
    options = {};
  }

  var urls = options.urls || default_urls;

  function get(i) {
    var url = urls[i];
    if (!url) return cb(new Error('Unable to fetch IP address.'));

    needle.get(url, function(err, resp) {
      var body = resp &amp;&amp; resp.body.toString();
      if (body &amp;&amp; body.match(ip_regex)) {
        return cb(null, body.match(ip_regex)[1]);
      }

      get(i+1);
    })
  };

  get(0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Get public IP

Returns your public IP address, as reported by DynDNS.org or other services.

``` js
var network = require('network');

network.<span class="apidocCodeKeywordSpan">get_public_ip</span>(function(err, ip) {
  console.log(err || ip); // should return your public IP address
})
```

##### CLI

$ network public_ip
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.mac_address_for" id="apidoc.element.network.mac_address_for">
        function <span class="apidocSignatureSpan">network.</span>mac_address_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mac_address_for = function (nic_name, cb) {
  var cmd = 'cat /sys/class/net/' + nic_name + '/address';
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list = [],
    nics = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">mac_address_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.gateway_ip_for(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    },
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.network.darwin" id="apidoc.module.network.darwin">module network.darwin</a></h1>


    <h2>
        <a href="#apidoc.element.network.darwin.gateway_ip_for" id="apidoc.element.network.darwin.gateway_ip_for">
        function <span class="apidocSignatureSpan">network.darwin.</span>gateway_ip_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">gateway_ip_for = function (nic_name, cb) {
  var cmd = "ipconfig getoption " + nic_name + " router";
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list  = [],
    nics  = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">gateway_ip_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    }
  ], function(err, results) {
    if (results[0]) obj.gateway_ip = results[0];
    if (results[1]) obj.netmask    = results[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.darwin.get_active_network_interface_name" id="apidoc.element.network.darwin.get_active_network_interface_name">
        function <span class="apidocSignatureSpan">network.darwin.</span>get_active_network_interface_name
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_active_network_interface_name = function (cb) {
  var cmd = "netstat -rn | grep UG | awk '{print $6}'";
  exec(cmd, function(err, stdout) {
    if (err) return cb(err);

    var raw = stdout.toString().trim().split('\n');
    if (raw.length === 0 || raw === [''])
      return cb(new Error('No active network interface found.'));

    cb(null, raw[0]);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.darwin.get_network_interfaces_list" id="apidoc.element.network.darwin.get_network_interfaces_list">
        function <span class="apidocSignatureSpan">network.darwin.</span>get_network_interfaces_list
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_network_interfaces_list = function (cb) {

  var count = 0,
      list  = [],
      nics  = os.networkInterfaces();

  function append_data(obj) {
    async.parallel([
      function(cb) {
        exports.gateway_ip_for(obj.name, cb)
      },
      function(cb) {
        exports.netmask_for(obj.name, cb)
      }
    ], function(err, results) {
      if (results[0]) obj.gateway_ip = results[0];
      if (results[1]) obj.netmask    = results[1];

      list.push(obj);
      --count || cb(null, list);
    })
  }

  exec('networksetup -listallhardwareports', function(err, out) {
    if (err) return cb(err);

    var blocks = out.toString().split(/Hardware/).slice(1);
    count = blocks.length;

    blocks.forEach(function(block) {
      var parts = block.match(/Port: (.+)/),
          mac   = block.match(/Address: ([A-Fa-f0-9:-]+)/),
          name  = block.match(/Device: (\w+)/);

      if (!parts || !mac || !name)
        return --count;

      var obj   = {},
          port  = parts[1];

      obj.name  = name[1];
      // obj.desc  = port;
      obj.type  = determine_nic_type(port);
      obj.ip_address  = null;
      obj.mac_address = mac[1];

      (nics[obj.name] || []).forEach(function(type) {
        if (type.family == 'IPv4') {
          obj.ip_address = type.address;
        }
      });

      append_data(obj);
    })

    if (count == 0)
      cb(new Error('No interfaces found.'))
  })

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.darwin.mac_address_for" id="apidoc.element.network.darwin.mac_address_for">
        function <span class="apidocSignatureSpan">network.darwin.</span>mac_address_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mac_address_for = function (nic_name, cb) {
  var cmd = "networksetup -getmacaddress " + nic_name + " | awk '{print $3}'";
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list = [],
    nics = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">mac_address_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.gateway_ip_for(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.darwin.netmask_for" id="apidoc.element.network.darwin.netmask_for">
        function <span class="apidocSignatureSpan">network.darwin.</span>netmask_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">netmask_for = function (nic_name, cb) {
  var cmd = "ipconfig getoption " + nic_name + " subnet_mask";
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  function append_data(obj) {
async.parallel([
  function(cb) {
    exports.gateway_ip_for(obj.name, cb)
  },
  function(cb) {
    exports.<span class="apidocCodeKeywordSpan">netmask_for</span>(obj.name, cb)
  }
], function(err, results) {
  if (results[0]) obj.gateway_ip = results[0];
  if (results[1]) obj.netmask    = results[1];

  list.push(obj);
  --count || cb(null, list);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.network.linux" id="apidoc.module.network.linux">module network.linux</a></h1>


    <h2>
        <a href="#apidoc.element.network.linux.gateway_ip_for" id="apidoc.element.network.linux.gateway_ip_for">
        function <span class="apidocSignatureSpan">network.linux.</span>gateway_ip_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">gateway_ip_for = function (nic_name, cb) {
  trim_exec("ip r | grep " + nic_name + " | grep default | cut -d ' ' -f 3", cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list  = [],
    nics  = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">gateway_ip_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    }
  ], function(err, results) {
    if (results[0]) obj.gateway_ip = results[0];
    if (results[1]) obj.netmask    = results[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.linux.get_active_network_interface_name" id="apidoc.element.network.linux.get_active_network_interface_name">
        function <span class="apidocSignatureSpan">network.linux.</span>get_active_network_interface_name
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_active_network_interface_name = function (cb) {
  var cmd = "netstat -rn | grep UG | awk '{print $NF}'";
  exec(cmd, function(err, stdout) {
    if (err) return cb(err);

    var raw = stdout.toString().trim().split('\n');
    if (raw.length === 0 || raw === [''])
      return cb(new Error('No active network interface found.'));

    cb(null, raw[0]);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.linux.get_network_interfaces_list" id="apidoc.element.network.linux.get_network_interfaces_list">
        function <span class="apidocSignatureSpan">network.linux.</span>get_network_interfaces_list
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_network_interfaces_list = function (cb) {

  var count = 0,
      list = [],
      nics = os.networkInterfaces();

  function append_data(obj) {
    async.parallel([
      function(cb) {
        exports.mac_address_for(obj.name, cb)
      },
      function(cb) {
        exports.gateway_ip_for(obj.name, cb)
      },
      function(cb) {
        exports.netmask_for(obj.name, cb)
      },
      function(cb) {
        exports.interface_type_for(obj.name, cb)
      }
    ], function(err, results) {
      if (results[0]) obj.mac_address = results[0];
      if (results[1]) obj.gateway_ip  = results[1];
      if (results[2]) obj.netmask     = results[2];
      if (results[3]) obj.type        = results[3];

      list.push(obj);
      --count || cb(null, list);
    })
  }

  for (var key in nics) {
    if (key != 'lo0' &amp;&amp; key != 'lo' &amp;&amp; !key.match(/^tun/)) {

      count++;
      var obj = { name: key };

      nics[key].forEach(function(type) {
        if (type.family == 'IPv4') {
          obj.ip_address = type.address;
        }
      });

      append_data(obj);
    }
  }

  if (count == 0)
    cb(new Error('No interfaces found.'))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.linux.interface_type_for" id="apidoc.element.network.linux.interface_type_for">
        function <span class="apidocSignatureSpan">network.linux.</span>interface_type_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">interface_type_for = function (nic_name, cb) {
  exec('cat /proc/net/wireless | grep ' + nic_name, function(err, out) {
    return cb(null, err ? 'Wired' : 'Wireless')
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  function(cb) {
    exports.gateway_ip_for(obj.name, cb)
  },
  function(cb) {
    exports.netmask_for(obj.name, cb)
  },
  function(cb) {
    exports.<span class="apidocCodeKeywordSpan">interface_type_for</span>(obj.name, cb)
  }
], function(err, results) {
  if (results[0]) obj.mac_address = results[0];
  if (results[1]) obj.gateway_ip  = results[1];
  if (results[2]) obj.netmask     = results[2];
  if (results[3]) obj.type        = results[3];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.linux.mac_address_for" id="apidoc.element.network.linux.mac_address_for">
        function <span class="apidocSignatureSpan">network.linux.</span>mac_address_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mac_address_for = function (nic_name, cb) {
  var cmd = 'cat /sys/class/net/' + nic_name + '/address';
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list = [],
    nics = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">mac_address_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.gateway_ip_for(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.linux.netmask_for" id="apidoc.element.network.linux.netmask_for">
        function <span class="apidocSignatureSpan">network.linux.</span>netmask_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">netmask_for = function (nic_name, cb) {
  var cmd = "ifconfig " + nic_name + " 2&gt; /dev/null | egrep 'netmask|Mask:' | awk '{print $4}' | sed 's/Mask://'";
  trim_exec(cmd, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  function append_data(obj) {
async.parallel([
  function(cb) {
    exports.gateway_ip_for(obj.name, cb)
  },
  function(cb) {
    exports.<span class="apidocCodeKeywordSpan">netmask_for</span>(obj.name, cb)
  }
], function(err, results) {
  if (results[0]) obj.gateway_ip = results[0];
  if (results[1]) obj.netmask    = results[1];

  list.push(obj);
  --count || cb(null, list);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.network.win32" id="apidoc.module.network.win32">module network.win32</a></h1>


    <h2>
        <a href="#apidoc.element.network.win32.gateway_ip_for" id="apidoc.element.network.win32.gateway_ip_for">
        function <span class="apidocSignatureSpan">network.win32.</span>gateway_ip_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">gateway_ip_for = function (nic_name, cb) {
  get_wmic_ip_value('DefaultIPGateway', nic_name, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list  = [],
    nics  = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">gateway_ip_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    }
  ], function(err, results) {
    if (results[0]) obj.gateway_ip = results[0];
    if (results[1]) obj.netmask    = results[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.win32.get_active_network_interface_name" id="apidoc.element.network.win32.get_active_network_interface_name">
        function <span class="apidocSignatureSpan">network.win32.</span>get_active_network_interface_name
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_active_network_interface_name = function (cb) {
  wmic.get_value('nic', 'NetConnectionID', 'NetConnectionStatus = 2', cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.win32.get_network_interfaces_list" id="apidoc.element.network.win32.get_network_interfaces_list">
        function <span class="apidocSignatureSpan">network.win32.</span>get_network_interfaces_list
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get_network_interfaces_list = function (callback) {

  var list = [],
      node_nics = os.networkInterfaces();

  wmic.get_list('nic', function(err, nics) {
    if (err) return callback(err);

    nics.forEach(function(nic){
      if (nic.Name &amp;&amp; nic.NetConnectionID != '' &amp;&amp; nic.MACAddress != '') {

        var obj = {
          name: nic.NetConnectionID,
          // description: nic.Name,
          mac_address: nic.MACAddress,
          ip_address: nic.IPAddress,
          vendor: nic.Manufacturer,
          model: nic.Description,
          type: nic.Name.match(/wi-?fi|wireless/i) ? 'Wireless' : 'Wired'
        }

        var node_nic = node_nics[obj.name] || [];

        node_nic.forEach(function(type){
          if (type.family == 'IPv4') {
            obj.ip_address = type.address;
          }
        });

        list.push(obj);
      }
    })

    callback(null, list);
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.win32.mac_address_for" id="apidoc.element.network.win32.mac_address_for">
        function <span class="apidocSignatureSpan">network.win32.</span>mac_address_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mac_address_for = function (nic_name, cb) {
  var cond = 'NetConnectionID = \'' + nic_name + '\'';
  wmic.get_value('nic', 'MACAddress', cond, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var count = 0,
    list = [],
    nics = os.networkInterfaces();

function append_data(obj) {
  async.parallel([
    function(cb) {
      exports.<span class="apidocCodeKeywordSpan">mac_address_for</span>(obj.name, cb)
    },
    function(cb) {
      exports.gateway_ip_for(obj.name, cb)
    },
    function(cb) {
      exports.netmask_for(obj.name, cb)
    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.network.win32.netmask_for" id="apidoc.element.network.win32.netmask_for">
        function <span class="apidocSignatureSpan">network.win32.</span>netmask_for
        <span class="apidocSignatureSpan">(nic_name, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">netmask_for = function (nic_name, cb) {
  get_wmic_ip_value('IPSubnet', nic_name, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  function append_data(obj) {
async.parallel([
  function(cb) {
    exports.gateway_ip_for(obj.name, cb)
  },
  function(cb) {
    exports.<span class="apidocCodeKeywordSpan">netmask_for</span>(obj.name, cb)
  }
], function(err, results) {
  if (results[0]) obj.gateway_ip = results[0];
  if (results[1]) obj.netmask    = results[1];

  list.push(obj);
  --count || cb(null, list);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>